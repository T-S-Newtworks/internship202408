@{
    ViewBag.Title = "TSN Dash Board";
}

@Scripts.Render("~/Scripts/chart.min.js")

<main>
    <div class="col-12 d-flex flex-row justify-content-between align-items-end">
        <h2 id="DashBoardTitle">TSNダッシュボード</h2>
        @Html.ActionLink("サンプル一覧画面へ戻る", "Sample", "Home", new { area = "" }, new { @class = "sample-link" })
    </div>
    <div class="row">
        <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
            <div class="card">
                <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-dark shadow-dark border-radius-xl mt-n4 ">
                        <i class="material-icons opacity-10">従業員平均年齢</i>
                    </div>
                    <div>
                        <p class="text-sm mb-0 text-capitalize">今年度</p>
                        <h4 class="mb-0">29.7才</h4>
                    </div>
                </div>
                <hr class="dark horizontal my-0">
                <div class="card-footer p-3">
                    <p class="mb-0"><span class="text-success text-sm font-weight-bolder">-2.6 </span>than five year ago</p>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
            <div class="card">
                <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary border-radius-xl mt-n4 ">
                        <i class="material-icons opacity-10">従業員数</i>
                    </div>
                    <div>
                        <p class="text-sm mb-0 text-capitalize">今年度</p>
                        <h4 class="mb-0">80名</h4>
                    </div>
                </div>
                <hr class="dark horizontal my-0">
                <div class="card-footer p-3">
                    <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+15% </span>than five year ago</p>
                </div>
            </div>
        </div>
        <div class="col-xl-6 col-sm-12 mb-xl-0 mb-4">
            <div class="card">
                <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-success shadow-success border-radius-xl mt-n4 ">
                        <i class="material-icons opacity-10">男女構成比率</i>
                    </div>
                    <div style="display:flex; flex-direction:row; justify-content:space-between">
                        <div>
                            <p class="text-sm mb-0 text-capitalize">男性従業員数</p>
                            <h4 class="mb-0">55名</h4>
                        </div>
                        <div>
                            <p class="text-sm mb-0 text-capitalize">男性従業員比率</p>
                            <h4 class="mb-0">68.75%</h4>
                        </div>
                        <div>
                            <p class="text-sm mb-0 text-capitalize">女性従業員数</p>
                            <h4 class="mb-0">25名</h4>
                        </div>
                        <div>
                            <p class="text-sm mb-0 text-capitalize">女性従業員比率</p>
                            <h4 class="mb-0">31.25%</h4>
                        </div>
                    </div>
                </div>
                <hr class="dark horizontal my-0">
                <div class="card-footer p-3">
                    <p class="mb-0"><span class="text-danger text-sm font-weight-bolder">female rate -3%</span> than five year ago</p>
                </div>
            </div>
        </div>
        <div class="col-xl-9 col-sm-12 mt-4">
            <div class="card">
                <div class="row">
                    <div class="col-lg-6 col-7 m-1">
                        <h6>従業員数推移</h6>
                        <p class="text-sm mb-0">
                            <span class="font-weight-bold ms-1">直近5年間</span>
                        </p>
                    </div>
                </div>
                <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent" >
                    <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                        <div class="chart">
                            <canvas id="TimeTrancitionChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="card-body" style="height:20%;">
                    <h6 class="mb-0 ">従業員増加比率</h6>
                    <p class="text-sm "> (<span class="font-weight-bolder">+15%</span>) increase per year on average. </p>
                    <hr class="dark horizontal">
                    <div class="d-flex ">
                        <i class="material-icons text-sm my-auto me-1">chart</i>
                        <p class="mb-0 text-sm"> updated 2 month ago </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-12 mt-4 flex-xl-column">
            <div class="col-xl-12 col-sm-6 mb-4 flex-padding-right">
                <div class="card">
                    <div class="row">
                        <div class="col-lg-8 col-12 m-1">
                            <p class="text-sm mb-0">
                                <span class="font-weight-bold ms-1">年齢別構成比率(男性)</span>
                            </p>
                        </div>
                    </div>
                    <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                        <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                            <div class="chart">
                                <canvas id="maleAgeChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-12 col-sm-6 flex-padding-left">
                <div class="card">
                    <div class="row">
                        <div class="col-lg-8 col-12 m-1">
                            <p class="text-sm mb-0">
                                <span class="font-weight-bold ms-1">年齢別構成比率(女性)</span>
                            </p>
                        </div>
                    </div>
                    <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                        <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                            <div class="chart">
                                <canvas id="femaleAgeChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-3 col-sm-12 mt-4">
    </div>
</main>

@section scripts{
    <script type="text/javascript">
        //従業員数水位のグラフ
        var TimeTrancitionChart = $('#TimeTrancitionChart');
        var LineChart = new Chart(TimeTrancitionChart, {
            //棒グラフ
            type: 'bar', 
            data: {
                //横軸のラベル
                labels: ['2018', '2019', '2020', '2021', '2022', '2023'], 
                //表示するデータの設定
                datasets: [ 
                    {
                        label: '男性従業員数',
                        data: [40, 42, 45, 48, 52, 55],
                        backgroundColor: "rgba(104,170,255,0.5)"
                    }, {
                        label: '女性従業員数',
                        data: [18, 20, 21, 23, 23, 25],
                        backgroundColor: "rgba(255,155,196,0.5)"
                    },
                    {
                        label: '総従業員数',
                        data: [58, 62, 66, 71, 75, 80],
                        backgroundColor: "rgba(255,183,76,0.5)"
                    }
                ]
            },
            //その他オプション(今回は使用していない)
            options: {
            }
        });
        //年齢別構成比率(男性)
        var maleAgeChart = $('#maleAgeChart');
        var malePieChart = new Chart(maleAgeChart, {
            //円グラフ
            type: 'pie',
            data: {
                //横軸のラベル
                labels: ["20代", "30代", "40代", "50代", "60代"],
                //表示するデータの設定
                datasets: [{
                    backgroundColor: [
                        "#0072FF",
                        "#328EFF",
                        "#68AAFF",
                        "#99C6FF",
                        "#CCE2FF"

                    ],
                    data: [20, 12, 8, 10, 5]
                }]
            },
            options: {
            }
        });
        //年齢別構成比率(女性)
        var femaleAgeChart = $('#femaleAgeChart');
        var femalePieChart = new Chart(femaleAgeChart, {
            type: 'pie',
            data: {
                labels: ["20代", "30代", "40代", "50代", "60代"],
                datasets: [{
                    backgroundColor: [
                        "#FF3288",
                        "#FF66A5",
                        "#FF9BC4",
                        "#FFCCE1",
                        "#FFE5F0"
                    ],
                    data: [11, 3, 6, 3, 1]
                }]
            },
            options: {
            }
        });
    </script>
}
<style>
    @@media
        (max-width: 1200px) {
            .flex-xl-column

        {
            display: flex;
            flex-direction: row !important;
        }

        .flex-padding-right {
            padding: 0 0.5rem 0 0 !important;
        }

        .flex-padding-left {
            padding: 0 0 0 0.5rem !important;
        }

        }

    .sample-link {
        text-decoration: underline;
        padding-left: calc(var(--bs-gutter-x)* 0.5);
        font-size: 1.5rem;
        width: auto;
    }
</style>

